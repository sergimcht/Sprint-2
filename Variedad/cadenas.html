<!DOCTYPE html>
<html>
    <head>
         <meta charset='utf-8'>
         <title>CADENAS</title>
         <style>em {color:teal;} input[type=text] {font-size: 105%; font-weight: bold;color:teal;}</style>
    <script async src='/cdn-cgi/bm/cv/669835187/api.js'></script></head>
    <body style="margin-left:10em; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">
      <!--Esto es HTML-->
      <h1>Analizar funciones jugando con cadenas de texto</h1>
      <hr>
      <p>Escribe una frase: <input type="text" id="frase" size="90"/></p>
      <p>¿Qué deseas hacer?</p>
      <p><em>Las funciones para las siguientes dos opciones deberán mostrar en el elemento <b>mensaje</b> el resultado</em></p>
      <blockquote>
         <p><input type="radio" id="1" name="accion" value="1"><label for="1">Contar vocales</label></p>
         <p><input type="radio" id="2" name="accion" value="2"><label for="2">Contar palabras</label></p>
      </blockquote>
      <p><em>Las siguientes dos opciones deberán retornar al main el resultado para que éste lo muestre en el elemento <b>mensaje</b></em></p>
      <blockquote>
         <p><input type="radio" id="3" name="accion" value="3"><label for="3">Convertir a minúsculas</label></p>
         <p><input type="radio" id="4" name="accion" value="4"><label for="4">Convertir a mayúsculas</label></p>
      </blockquote>
      <p><em>Haciendo uso de bucles, completar el código para realizar la siguiente opción <b>(libre)</b></em></p>
      <blockquote>
         <p><input type="radio" id="5" name="accion" value="5"><label for="5">Frase al revés...</label></p>
      </blockquote>
      <p><input type='button' onClick='validar()' Value='Continuar' /></p>

      <h3 id="mensaje"></h3>
      <!--Acá pasaremos a JavaScript (con la instrucción SCRIPT)--> 

      <script>
         "use strict;"
         function contarVocales(cadena) {
            let vocales = "aeiouAEIOUáéíóúÁÉÍÓÚ";
            let numeroVocales = 0;
            let letra;
            let largo = cadena.length;
            for (let i=0; i<largo; i++) {
               letra=cadena.charAt(i);
               if (vocales.includes(letra)) {
                  numeroVocales++;
               }
            }
            document.getElementById("mensaje").innerHTML = "La cadena tiene <em>" + numeroVocales + "</em> vocales";
         }

         function contarPalabras(cadena) {
            let espacio = " ";
            let numeroPalabras = 0;
            let letra;
            let largo = cadena.length;
            for (let i=0; i<=largo; i++) {
               letra=cadena.charAt(i);
               if (espacio.includes(letra)) {
                  numeroPalabras++;
               }
            }
            document.getElementById("mensaje").innerHTML = "La cadena tiene <em>" + numeroPalabras + "</em> palabras";
         }

         function minusculas(cadena) {
            return cadena.toLowerCase();
         }

         function mayusculas(cadena) {
            return cadena.toUpperCase();
         }

         function reves(cadena) {
            let reversa = "";
            let i;

            for(i = cadena.length - 1; i >= 0; i--) {
               reversa += cadena[i];
            }
            document.getElementById("mensaje").innerHTML = reversa;
         }

         function main() {
               let cadena = document.getElementById("frase").value;  
                
               if (document.getElementById("1").checked) {
                  contarVocales(cadena);

               } else if (document.getElementById("2").checked) {
                  contarPalabras(cadena);

               } else if (document.getElementById("3").checked) {
                  cadena = minusculas(cadena);
                  document.getElementById("mensaje").innerHTML = "La cadena en minúsculas es: <em>" + cadena + "</em>";

               } else if (document.getElementById("4").checked) {
                  cadena = mayusculas(cadena);
                  document.getElementById("mensaje").innerHTML = "La cadena en mayúsculas es: <em>" + cadena + "</em>";

               } else if (document.getElementById("5").checked) {
                  cadena = reves(cadena);

               } else {
                  alert("Debes elegir una de las opciones y presionar luego el botón 'Continuar'");
               }
         }

         function validar() {
            let valor; //lo usamos para que las validaciones en el if queden más cortas
            let validado = true;
            let msgError = "Introduce una frase válida y presiona de nuevo el botón 'Continuar'"
         
            valor = document.getElementById("frase").value; 
            if (valor =="") {
                  validado = false;
                  document.getElementById("frase").style.backgroundColor = "#E6B0AA";   
            } else {
                  document.getElementById("frase").style.backgroundColor = "white";
            }

            // abortar si todo no está validado
            if (!validado) {
                  alert(msgError);
            } else {
                  main();
            }
                  
         }

      </script>
   <script type="text/javascript">(function(){window['__CF$cv$params']={r:'6db4562aecf23311',m:'dWpAh8hRnToIWDUwz1Ba0r5_T6FpxoHd.qlneEDf0Ls-1644485613-0-AVvSKnarDOVh84RX4Y8iLJ6S2+WLP9LTGVjexdslJ5Y884ln9datfOOpgDUwu9EzatTMR3RrdKKzms6J25DFZQ3H5WQWY2gThnj67CIelspzpFdKSiNnOqp2Rai1gZkBvDVj345+bG+b9kLxlLap2MV9fIaM8GxyPMCjN9YrZeS/D18MpsJQR6T4oQtJv9Epmg==',s:[0x5a9556a840,0x7b0285f6e5],}})();</script></body>
</html>